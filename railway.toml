# Railway Template Configuration
# Este archivo define el template completo de MineChamp

name = "MineChamp - Minecraft Server con Auto-HibernaciÃ³n"
description = "Servidor de Minecraft 1.21.11 con proxy que enciende automÃ¡ticamente el servidor cuando alguien intenta conectarse. Ahorra hasta 70% en costos."

[services.proxy]
name = "MineChamp Proxy"
icon = "ğŸšª"
source = "proxy"

[services.proxy.build]
dockerfile = "proxy/Dockerfile"

[services.proxy.deploy]
numReplicas = 1
sleepApplication = false
restartPolicyType = "ON_FAILURE"

[[services.proxy.domains]]
type = "tcp"
port = 25565

[services.proxy.variables]
PROXY_PORT = "25565"
MC_SERVER_HOST = "${minechamp-server.RAILWAY_PRIVATE_DOMAIN}"
MC_SERVER_PORT = "25565"
RAILWAY_SERVICE_ID = "${minechamp-server.RAILWAY_SERVICE_ID}"
RAILWAY_ENVIRONMENT_ID = "${RAILWAY_ENVIRONMENT_ID}"
COOLDOWN_MINUTES = "2"

[services.proxy.variables.SERVER_MOTD]
description = "MOTD cuando el servidor estÃ¡ apagado"
default = "Â§6Â§lâ› MineChamp Â§rÂ§7| Â§eClick para iniciar"

[services.proxy.variables.STARTING_MOTD]
description = "MOTD mientras el servidor inicia"
default = "Â§6Â§lâ› MineChamp Â§rÂ§7| Â§aIniciando..."

[services.proxy.variables.RAILWAY_TOKEN]
description = "Token de API de Railway (se configura automÃ¡ticamente)"
type = "secret"

[services.server]
name = "MineChamp Server"
icon = "â›ï¸"
source = "."

[services.server.build]
dockerfile = "Dockerfile"

[services.server.deploy]
numReplicas = 1
sleepApplication = false
restartPolicyType = "ON_FAILURE"

[services.server.networking]
privateOnly = true

[services.server.variables]
MEMORY_MIN = "1G"
MEMORY_MAX = "2G"
SERVER_PORT = "25565"
ONLINE_MODE = "false"
MAX_PLAYERS = "20"
VIEW_DISTANCE = "10"
DIFFICULTY = "normal"
GAMEMODE = "survival"
PVP = "true"
ENABLE_HIBERNATE = "true"
IDLE_TIMEOUT = "10"

[services.server.variables.MOTD]
description = "Mensaje del dÃ­a del servidor"
default = "Â§6Â§lâ› MineChamp Â§rÂ§7By Â§bDubbxd"

[services.server.variables.MEMORY_MAX]
description = "RAM mÃ¡xima (debe coincidir con tu plan de Railway)"

[services.server.variables.IDLE_TIMEOUT]
description = "Minutos sin jugadores antes de apagar el servidor"
